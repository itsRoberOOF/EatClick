#:kivy 1.10
#-*- coding: utf-8 -*-

#Ventanas declaradas
#:import Factory kivy.factory.Factory
WindowManager:
	FirstWindow:
        name: "first"
	SecondWindow:
        name: "second"

#Portada

<FirstWindow>:
    #Colores
	canvas.before:
		Color:
			rgba: (6/255, 52/255, 91/255, 1)
					
		Rectangle:
			pos: self.pos
			size: self.size

	name: "first"
    id: layout
    
    BoxLayout:
        spacing: 20
        padding: [10, 50, 10, 60]  # [izquierda, arriba, derecha, abajo]
        orientation: 'vertical'

        Image:
			source: "Loguito.png"
			size_hint: (1, None)  # Ocupa el 100% del ancho y altura automática
            height: 300  # Altura fija
            allow_stretch: True  # Permitir que la imagen se estire
            keep_ratio: True  # Mantener la proporción original de la imagen

        Label:
            text: "Bienvenido"
            size_hint_y: None
            height: dp(25)
            font_size: '20sp' 
            bold: True
        
        Label:
            text: "Ingresa un nombre para tu órden"
            size_hint_y: None
            height: dp(18)
            font_size: '15sp' 
            bold: True
        
        TextInput:  # Campo de entrada
            id: nombre_input
            multiline: False  # Solo una línea de texto
            size_hint_y: None  # Controlar el tamaño en la dirección y
            height: 45  # Altura fija
            background_color: (16/255, 67/255, 110/255, 1)  # Color de fondo (RGBA)
            foreground_color: (1, 1, 1, 1)  # Color del texto (RGBA)
            font_size: '18sp'  # Tamaño de letra
            padding: [10, 10, 10, 10]  # Padding interno del TextInput
            size_hint_x: 0.6
            pos_hint: {"center_x": 0.5}

        Button:
            text: "Continuar"
            bold: True
            size_hint_x: 0.4
            pos_hint: {"center_x": 0.5}
            size_hint_y: None
            height: 50
            on_release: 
                root.enviar_nombre()
				app.root.current = "second"
				root.manager.transition.direction = "right"
            background_normal: ""  # Esto evita el color predeterminado del botón
            background_down: ""  # Esto evita el cambio de color cuando se presiona
            background_color: (1, 0, 0, 1)
            canvas.before:
                # Dibuja un rectángulo con esquinas redondeadas
                Color:
                    rgba: self.background_color
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [20]  # Ajusta el radio para los bordes redondeados
<SecondWindow>:
    canvas.before:
        Color:
            rgba: (6/255, 52/255, 91/255, 1)  # Color de fondo azul oscuro
        Rectangle:
            pos: self.pos
            size: self.size

    name: "second"
    BoxLayout:
        orientation: 'vertical'
        
        BoxLayout:  # Nueva sección horizontal para los Labels y el botón
            orientation: 'horizontal'
            size_hint_y: 0.15  # Altura del contenedor
            
            BoxLayout:
                orientation: 'vertical'
                size_hint_x: 0.85
                Label:
                    id: cliente_label
                    text: "Cliente:"
                    font_size: '20sp'
                    bold: True
                    halign: 'left'  
                    valign: 'bottom'  
                    text_size: self.size 
                    padding_x: dp(10) 
                    foreground_color: (255, 255, 255, 1)
                
                Label:
                    id: nombre_label
                    text: ""
                    font_size: '18sp'
                    halign: 'left'  
                    valign: 'top'  
                    text_size: self.size 
                    padding_x: dp(10) 
                    foreground_color: (255, 255, 255, 1)
            
            Button:
                size_hint: (None, None)
                height: 60
                width: 60
                background_normal: "Carrito.png"
                halign: "center"
                valign: "top"
                border: [0, 0, 0, 0]
                allow_stretch: False
                keep_ratio: True
                pos_hint: {"center_y": 0.45}
            
            Widget:
                size_hint: (None, None)
                width: 20
        
        ScrollView:  # Sección para el ScrollView
            bar_width: 0
            scroll_type: ['content']
            GridLayout:
                id: layout
                cols: 2
                size_hint_y: None
                height: self.minimum_height
                row_default_height: dp(150)
                row_force_default: True
                spacing: dp(20)
                padding: [20, 10, 20, 0]

        Label:  # Título "Nota"
            id: nota_label
            text: "Nota:"
            font_size: '20sp'
            size_hint_y: 0.1
            bold: True
            halign: 'left'  
            valign: 'bottom'  
            text_size: self.size 
            padding: [20, 0, 20, 5]
            foreground_color: (255, 255, 255, 1)   
        
        Label:  # Mensaje descriptivo
            id: msj_label
            text: "Escoge la categoría o tipo de producto que deseas agregar a tu órden actual."
            font_size: '18sp'
            size_hint_y: 0.2
            halign: 'left'  
            valign: 'top'  
            text_size: self.size 
            padding: [20, 0, 20, 20]
            foreground_color: (255, 255, 255, 1)

                